syntax = "proto3";

package libra.v1;

option go_package = "github.com/ntons/libra-go/api/v1";

import "google/protobuf/any.proto";

// Access提供客户端接入服务，签入之后可以获取S->C通信管道
// 该接口需要校验客户端合法性
service Access {
    // Establish the push stream
    rpc Access(AccessRequest) returns (stream google.protobuf.Any);
}

message AccessRequest {
}

// Gateway提供可信域内对Access接入的客户端的操作服务
service Gateway {
    // Push message to client
    rpc Push(PushRequest) returns (PushResponse);
    // Subscribe a broadcast channel
    rpc Subscribe(SubscribeRequest) returns (SubscribeResponse);
}

message PushRequest {
    string role_id = 1;
    google.protobuf.Any data = 10;
}
message PushResponse {
}

message SubscribeRequest {
}
message SubscribeResponse {
}

